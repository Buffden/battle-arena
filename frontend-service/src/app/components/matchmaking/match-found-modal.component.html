@if (matchData) {
  <div class="modal-overlay">
    <div class="modal-content">
      <!-- Header -->
      <div class="modal-header">
        <h2 class="modal-title">MATCH FOUND</h2>
        @if (timeRemaining > 0) {
          <div class="timer">{{ timeRemaining }}s</div>
        }
      </div>

      <!-- Opponent Info -->
      <div class="opponent-info">
        <div class="opponent-avatar">⚔️</div>
        <div class="opponent-details">
          <div class="opponent-label">Opponent</div>
          <div class="opponent-id">{{ matchData.opponent.userId }}</div>
        </div>
      </div>

      <!-- Acceptance Status (CS:GO style) -->
      <div class="acceptance-status">
        <div class="status-row">
          <div class="status-label">You</div>
          <div class="status-indicator">
            @if (hasCurrentUserAccepted()) {
              <span class="tick-mark">✓</span>
            } @else if (!hasOpponentRejected()) {
              <span class="waiting">⏳</span>
            } @else {
              <span class="cross-mark">✗</span>
            }
          </div>
        </div>
        <div class="status-row">
          <div class="status-label">Opponent</div>
          <div class="status-indicator">
            @if (hasOpponentAccepted()) {
              <span class="tick-mark">✓</span>
            } @else if (!hasOpponentRejected()) {
              <span class="waiting">⏳</span>
            } @else {
              <span class="cross-mark">✗</span>
            }
          </div>
        </div>
      </div>

      <!-- Actions -->
      @if (!acceptanceStatus?.bothAccepted && !hasOpponentRejected()) {
        <div class="modal-actions">
          <button
            class="pixel-button reject-button"
            (click)="onReject()"
            [disabled]="hasCurrentUserAccepted()"
          >
            REJECT
          </button>
          <button
            class="pixel-button accept-button"
            (click)="onAccept()"
            [disabled]="hasCurrentUserAccepted()"
          >
            ACCEPT
          </button>
        </div>
      }

      <!-- Status Messages -->
      @if (acceptanceStatus?.bothAccepted) {
        <div class="status-message">
          <p class="pixel-text">Both players accepted! Starting game...</p>
        </div>
      }
      @if (hasOpponentRejected()) {
        <div class="status-message error">
          <p class="pixel-text">Opponent rejected the match</p>
        </div>
      }
      @if (timeRemaining <= 0 && !hasCurrentUserAccepted()) {
        <div class="status-message">
          <p class="pixel-text">Time expired</p>
        </div>
      }
    </div>
  </div>
}
